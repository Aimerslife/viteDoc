<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cosmos 详解 | Clark Cui</title>
    <meta name="description" content="cosmos">
    <link rel="stylesheet" href="/assets/style.0b97b2d7.css">
    <link rel="modulepreload" href="/assets/Home.bdf9aa60.js">
    <link rel="modulepreload" href="/assets/app.10064a06.js">
    <link rel="modulepreload" href="/assets/posts_Cosmos详解.md.7d7e258f.lean.js">
    
    <link rel="icon" type="image/jpeg" href="/avator.jpg">
  <meta name="author" content="Clark Cui">
  <meta property="og:title" content="Home">
  <meta property="og:description" content="Home of Clark Cui">
  <meta name="twitter:title" content="Cosmos 详解 | Clark Cui">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><div class="no-sidebar theme"><header class="nav-bar" data-v-40587210><div class="sidebar-button" data-v-40587210><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Clark Cui, back to home" data-v-40587210 data-v-016a8bd8><img class="logo" src="/tea.svg" alt="Logo" data-v-016a8bd8> Clark Cui</a><div class="flex-grow" data-v-40587210></div><div class="nav" data-v-40587210><nav class="nav-links" data-v-40587210 data-v-35b91e7e><!--[--><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/" data-v-49fe041d>🏡Home <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/tags" data-v-49fe041d>🔖Tags <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/archives" data-v-49fe041d>📃Archives <!----></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--[--><div class="toggleTheme" data-v-f68cd400><div class="light" data-v-f68cd400>🔆</div></div><!--]--><!--]--></header><aside class="sidebar" data-v-17c48e2f><nav class="nav-links nav" data-v-17c48e2f data-v-35b91e7e><!--[--><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/" data-v-49fe041d>🏡Home <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/tags" data-v-49fe041d>🔖Tags <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/archives" data-v-49fe041d>📃Archives <!----></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-8fcebc32><div class="container" data-v-8fcebc32><!--[--><!--[--><!----><!--]--><!--[--><!--[--><h1 class="title" data-v-524a1c9d>Cosmos 详解</h1><div class="date" data-v-524a1c9d>🕒 lastUpdated: an hour ago</div><!--]--><div class="category" data-v-323418c7><ul data-v-323418c7><!--[--><li class="header" data-v-323418c7><a href="#区块链现阶段的问题" class="header-h1" data-v-323418c7>区块链现阶段的问题</a><!----></li><li class="header" data-v-323418c7><!----><ul data-v-323418c7><li data-v-323418c7><a href="#开发周期长、技术门槛高" class="header-h2" data-v-323418c7>开发周期长、技术门槛高</a></li></ul></li><li class="header" data-v-323418c7><!----><ul data-v-323418c7><li data-v-323418c7><a href="#资源消耗大、交易体验差" class="header-h2" data-v-323418c7>资源消耗大、交易体验差</a></li></ul></li><li class="header" data-v-323418c7><!----><ul data-v-323418c7><li data-v-323418c7><a href="#链上扩容难与跨链通信难" class="header-h2" data-v-323418c7>链上扩容难与跨链通信难</a></li></ul></li><li class="header" data-v-323418c7><a href="#cosmos-的解决方案" class="header-h1" data-v-323418c7>Cosmos 的解决方案</a><!----></li><li class="header" data-v-323418c7><!----><ul data-v-323418c7><li data-v-323418c7><a href="#cosmos-hub" class="header-h2" data-v-323418c7>Cosmos Hub</a></li></ul></li><li class="header" data-v-323418c7><!----><ul data-v-323418c7><li data-v-323418c7><a href="#tendermint-core" class="header-h2" data-v-323418c7>Tendermint Core</a></li></ul></li><li class="header" data-v-323418c7><!----><ul data-v-323418c7><li data-v-323418c7><a href="#cosmos-sdk" class="header-h2" data-v-323418c7>Cosmos-SDK</a></li></ul></li><li class="header" data-v-323418c7><!----><ul data-v-323418c7><li data-v-323418c7><a href="#基于-tendermint-core-和-cosmos-sdk-构建的区块链系统" class="header-h2" data-v-323418c7>基于 Tendermint Core 和 Cosmos-SDK 构建的区块链系统</a></li></ul></li><li class="header" data-v-323418c7><!----><ul data-v-323418c7><li data-v-323418c7><a href="#ibc-协议" class="header-h2" data-v-323418c7>IBC 协议</a></li></ul></li><!--]--></ul></div><!--]--><!--]--><div style="position:relative;" class="content" data-v-8fcebc32><div><blockquote><p>本文内容主要来自《区块链架构与实现：Cosmos 详解》</p></blockquote><h2 id="区块链现阶段的问题" tabindex="-1">区块链现阶段的问题 <a class="header-anchor" href="#区块链现阶段的问题" aria-hidden="true">#</a></h2><h3 id="开发周期长、技术门槛高" tabindex="-1">开发周期长、技术门槛高 <a class="header-anchor" href="#开发周期长、技术门槛高" aria-hidden="true">#</a></h3><p>比特币网络面临这样的问题，以太坊的出现解决了这一类问题，主要是用 evm 虚拟机和智能合约开发 dapp 的形式来实现去中心化应用</p><h3 id="资源消耗大、交易体验差" tabindex="-1">资源消耗大、交易体验差 <a class="header-anchor" href="#资源消耗大、交易体验差" aria-hidden="true">#</a></h3><p>比特币和以太坊都面临这样的问题，主要是工作量证明（pow）、中本聪共识协议造成的。</p><p>解决办法：可以用权益证明(pos)来替代 pow，用拜占庭容错共识协议(bft)或者实用拜占庭容错（practical Byzantine fault tolerance，PBFT）共识协议来代替中本聪共识协议。</p><h3 id="链上扩容难与跨链通信难" tabindex="-1">链上扩容难与跨链通信难 <a class="header-anchor" href="#链上扩容难与跨链通信难" aria-hidden="true">#</a></h3><p>比如 eth 链上部署了大量的 dapp 应用，都在争抢有限的计算资源。bch 通过增大每个区块的容量来提高链上交易处理速度的方式仅能带来有限的速度提高，eth2.0 的分片来实现链上交易并行处理的方式开发难度大，进展缓慢。所以构建多条链，并且多链通信是一种不错的解决方式。</p><p>跨链通信的 3 种实现机制：散列锁、公证人和中继</p><h2 id="cosmos-的解决方案" tabindex="-1">Cosmos 的解决方案 <a class="header-anchor" href="#cosmos-的解决方案" aria-hidden="true">#</a></h2><p>为每一个区块链应用单独构建一条区块链，使用 IBC 协议来连接所有的区块链，通过 Tendermint Core、Cosmos-SDK 提供了区块链应用的开发框架，自动继承 Tendermint 共识协议以及 PoS 机制</p><h3 id="cosmos-hub" tabindex="-1">Cosmos Hub <a class="header-anchor" href="#cosmos-hub" aria-hidden="true">#</a></h3><p>是第一个基于 Cosmos 构建的区块链，链上资产是 ATOM</p><h3 id="tendermint-core" tabindex="-1">Tendermint Core <a class="header-anchor" href="#tendermint-core" aria-hidden="true">#</a></h3><p>将区块链系统自下而上拆解为 3 层：对等网络通信层、共识协议层以及上层应用层。</p><ol><li><p>对等网络通信层：对等网络通信，确保交易、区块、共识协议的消息能够快速地在整个网络内广播。</p></li><li><p>共识协议层：构建新的区块，并通过共识协议确保全网就区块内容（交易、上层应用状态等）达成共识。</p></li><li><p>上层应用层：根据共识协议层构建的区块，通过 ABCI 与上层应用交互，执行区块中的交易并完成上层应用的状态更新</p></li></ol><blockquote><p>Tendermint Core 中提供了对等网络通信层与共识协议层的实现，并抽象出区块链应用接口（application blockchain interface，ABCI）来完成共识协议层与上层应用层的互动。</p></blockquote><p>使用的共识协议是 Tendermint 共识协议（pbft 共识协议改进而来）</p><h3 id="cosmos-sdk" tabindex="-1">Cosmos-SDK <a class="header-anchor" href="#cosmos-sdk" aria-hidden="true">#</a></h3><p>Tendermint 团队构建了 Cosmos-SDK，实现了区块链场景中一系列的通用功能模块</p><ul><li>基础功能：账户管理与交易处理。</li><li>auth 模块管理系统中的所有账户。</li><li>bank 模块管理链上资产的转移。</li><li>辅助功能：创世区块管理、链上状态一致性检查等。</li><li>genutil 模块管理链的创世区块。</li><li>supply 模块负责链上资产总量的管理。</li><li>crisis 模块负责所有模块的不变量检查的管理。</li><li>params 模块负责所有模块的参数管理。</li><li>链上治理：基于提案的链上治理与网络升级。</li><li>gov 模块负责链上治理机制。</li><li>upgrade 模块负责链的升级。</li><li>PoS：链上资产抵押、链上惩罚和奖励。</li><li>staking 模块管理链上资产抵押。</li><li>slashing 模块负责对验证者的被动作恶行为进行惩罚。</li><li>evidence 模块负责对验证者的主动作恶行为进行惩罚。</li><li>mint 模块负责链上资产的铸造。</li><li>distribution 模块管理区块奖励的分发。</li><li>IBC 协议：基于中继机制的跨链协议。</li><li>ibc/core 模块负责跨链通信功能</li></ul><h3 id="基于-tendermint-core-和-cosmos-sdk-构建的区块链系统" tabindex="-1">基于 Tendermint Core 和 Cosmos-SDK 构建的区块链系统 <a class="header-anchor" href="#基于-tendermint-core-和-cosmos-sdk-构建的区块链系统" aria-hidden="true">#</a></h3><p><img src="/assets/WeChatf903a2cdf12631278f330b086b4b2fd8.498eaa1c.png" alt=""></p><h3 id="ibc-协议" tabindex="-1">IBC 协议 <a class="header-anchor" href="#ibc-协议" aria-hidden="true">#</a></h3><p>IBC 协议是为了跨链而诞生的，是基于中继机制而实现的协议，原理是任意两个希望跨链通信的区块链可以依赖密码学证明技术向对方链证明自身链上发生了特定的事件。两条链之间的网络通信通过中继者（relayer）完成。</p><p><img src="/assets/WeChatd288ba57261eae3fef086b7f0abcff78.f6c6d8d9.png" alt=""></p></div></div><footer class="page-footer" data-v-8fcebc32 data-v-5c96fb00><div class="edit" data-v-5c96fb00><div class="edit-link" data-v-5c96fb00 data-v-55695e90><!----></div></div><div class="updated" data-v-5c96fb00><!----></div></footer><!----><!--[--><!--[--><!----><!--]--><!--[--><!----><!--]--><!--]--></div></main></div><!----><!--]--><footer data-v-15d3260c> Powered by <a href="https://github.com/clark-cui/" target="_blank" title="作者" data-v-15d3260c>clark-cui</a> | Copyright © 2019-2022 | MIT License </footer><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"readme.md\":\"c6f52484\",\"archives.md\":\"ca903f38\",\"index.md\":\"553c82f4\",\"posts_cosmos详解.md\":\"7d7e258f\",\"posts_defi科普.md\":\"fb339320\",\"posts_tts.md\":\"8e68bc4f\",\"posts_typescript学习笔记.md\":\"fb48a741\",\"posts_buildsite.md\":\"ec9d9534\",\"posts_mac外接显示器.md\":\"8d5e6c2c\",\"posts_proxyconfig.md\":\"9fa059b1\",\"posts_区块链科普.md\":\"cca50001\",\"posts_博客开启https.md\":\"a3bfdd96\",\"posts_变量提升.md\":\"b67a61c5\",\"posts_智能合约开发.md\":\"48e85489\",\"posts_突然日记一.md\":\"39f824b4\",\"posts_虚拟机配置.md\":\"9f66f79e\",\"posts_随便说点啥.md\":\"ffad966d\",\"tags.md\":\"43f8358c\"}")</script>
    <script type="module" async src="/assets/app.10064a06.js"></script>
    
  </body>
</html>